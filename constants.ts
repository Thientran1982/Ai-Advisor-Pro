
export const FEATURED_PROJECTS = [
  {
    id: 'empire',
    name: "Empire City",
    developer: "Keppel Land",
    location: "Khu 2B, Thủ Thiêm, TP. Thủ Đức",
    priceRange: "180 - 400 triệu/m²",
    image: "https://images.unsplash.com/photo-1565538420870-da08ff96a207?auto=format&fit=crop&w=1200&q=80",
    gallery: [
        "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?auto=format&fit=crop&w=800&q=80", 
        "https://images.unsplash.com/photo-1622543925917-095a84bb83eb?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=800&q=80"
    ],
    type: ["Căn hộ hạng sang", "Duplex", "Penthouse"],
    status: "Đã bàn giao Linden, Tilia, Cove - Narra sắp cất nóc",
    highlight: "Vị trí 'Vàng' ngay hầm Thủ Thiêm, biểu tượng Empire 88 Tower đang khởi động.",
    region: "south",
    legalStatus: "Hợp đồng mua bán (HĐMB), Người Việt sở hữu lâu dài, Người nước ngoài 50 năm.",
    paymentSchedule: "Thanh toán 50% nhận nhà, còn lại trả chậm hoặc vay ngân hàng."
  },
  {
    id: 'metropole',
    name: "The Metropole",
    developer: "SonKim Land",
    location: "Chân cầu Ba Son, Thủ Thiêm",
    priceRange: "250 - 550 triệu/m²",
    image: "https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&w=1200&q=80",
    gallery: [
        "https://images.unsplash.com/photo-1555636222-cae831e670b3?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=800&q=80"
    ],
    type: ["The Galleria", "The Crest", "The Opera", "The Opusk"],
    status: "Đã bàn giao toàn bộ 4 giai đoạn - Dân cư lấp đầy 90%",
    highlight: "Sát nhập Quận 1 nhờ cầu Ba Son, trung tâm tài chính sầm uất nhất Thủ Thiêm.",
    region: "south",
    legalStatus: "Galleria đã có sổ hồng. Các giai đoạn sau đang hoàn tất thủ tục cấp sổ.",
    paymentSchedule: "Thanh toán giãn tiến độ cho The Opusk, hỗ trợ lãi suất 0% trong 24 tháng."
  },
  {
    id: 'gms',
    name: "Grand Marina Saigon",
    developer: "Masterise Homes",
    location: "Số 2 Tôn Đức Thắng, Q.1",
    priceRange: "450 - 950 triệu/m²",
    image: "https://images.unsplash.com/photo-1560185007-cde436f6a4d0?auto=format&fit=crop&w=1200&q=80",
    gallery: [
        "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1582294168759-994119d519b7?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1555636222-cae831e670b3?auto=format&fit=crop&w=800&q=80"
    ],
    type: ["Lake (Marriott)", "Cove (JW Marriott)", "Sea", "Lagoon"],
    status: "Tòa Lake/Cove đã vận hành - Tòa Sea đang bàn giao",
    highlight: "Khu BĐS hàng hiệu Marriott lớn nhất thế giới, ga Metro Ba Son ngay dưới chân nhà.",
    region: "south",
    legalStatus: "Sở hữu lâu dài (Người Việt). Đã có giấy phép xây dựng và bảo lãnh ngân hàng đầy đủ.",
    paymentSchedule: "Vốn tự có 30%, ngân hàng hỗ trợ 70%, ân hạn nợ gốc & lãi lên đến 36 tháng."
  },
  {
    id: 'tgc',
    name: "The Global City",
    developer: "Masterise Homes",
    location: "Đỗ Xuân Hợp, TP. Thủ Đức",
    priceRange: "55 - 125 tỷ/căn (Nhà phố)",
    image: "https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80",
    gallery: [
        "https://images.unsplash.com/photo-1449844908441-8829872d2607?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1600596542815-e32c8ec049f8?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1533105079780-92b9be482077?auto=format&fit=crop&w=800&q=80"
    ],
    type: ["Nhà phố SOHO", "Biệt thự", "Căn hộ Masteri Grand View"],
    status: "Khu SOHO kinh doanh sầm uất - Căn hộ cao tầng đang cất nóc",
    highlight: "Trung tâm mới (New Downtown) của TP.HCM, điểm đến lễ hội và giải trí.",
    region: "south",
    legalStatus: "Sổ đỏ từng lô, sở hữu lâu dài. Đất ở tại đô thị 100%.",
    paymentSchedule: "Thanh toán sớm chiết khấu 8-10%. Vay 80% giá trị, miễn lãi 24 tháng."
  },
  {
    id: 'vhgr',
    name: "Vinhomes Golden River",
    developer: "Vinhomes",
    location: "Số 2 Tôn Đức Thắng, Q.1",
    priceRange: "200 - 400 triệu/m²",
    image: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=1200&q=80",
    gallery: [
        "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1580587771525-78b9dba3b91d?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1486325212027-8081e485255e?auto=format&fit=crop&w=800&q=80"
    ],
    type: ["Aqua", "Luxury", "The Victoria"],
    status: "Đã bàn giao - Sổ hồng lâu dài - Khan hiếm",
    highlight: "Vị trí kim cương độc tôn tại Ba Son, cộng đồng cư dân tinh hoa.",
    region: "south",
    legalStatus: "Đã có sổ hồng lâu dài cho từng căn hộ. Pháp lý minh bạch 100%.",
    paymentSchedule: "Giao dịch chuyển nhượng thị trường thứ cấp. Thanh toán 100% khi công chứng."
  },
  {
    id: 'vhcp',
    name: "Vinhomes Central Park",
    developer: "Vinhomes",
    location: "208 Nguyễn Hữu Cảnh, Bình Thạnh",
    priceRange: "130 - 250 triệu/m²",
    image: "https://images.unsplash.com/photo-1583417319070-4a69db38a482?auto=format&fit=crop&w=1200&q=80",
    gallery: [
        "https://images.unsplash.com/photo-1559599101-f09722fb2945?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1567684014761-b65e2e59b928?auto=format&fit=crop&w=800&q=80"
    ],
    type: ["The Landmark", "The Park", "The Central"],
    status: "Đã có sổ hồng - Khu đô thị kiểu mẫu",
    highlight: "Sở hữu tòa tháp Landmark 81, công viên 14ha, giá trị cho thuê cao nhất thị trường.",
    region: "south",
    legalStatus: "Sổ hồng sở hữu lâu dài. Tòa Landmark 81 Officetel sở hữu 50 năm.",
    paymentSchedule: "Mua bán chuyển nhượng, thanh toán 100% (hoặc vay ngân hàng giải ngân song song)."
  }
];

export const QUICK_PROMPTS = [
  "So sánh dòng tiền Empire vs Metropole?",
  "Check pháp lý Global City?",
  "Phân tích môi trường sống Q.2?",
  "Tính bài toán vay 5 tỷ Techcombank?"
];

// --- TOKEN OPTIMIZATION STRATEGY: DATA MINIFICATION ---
// AI models do not need the full descriptive keys or image URLs to understand the data structure.
// We create a separate dataset for the System Instruction that strips out expensive, non-semantic tokens.
// - Removed: 'image', 'gallery' (AI doesn't need these URLs to provide advice).
// - Shortened Keys: 'name'->'n', 'developer'->'dev', etc.
const MINIFIED_PROJECTS = FEATURED_PROJECTS.map(({ image, gallery, id, region, type, ...rest }) => ({
    n: rest.name,
    dev: rest.developer,
    loc: rest.location,
    pr: rest.priceRange,
    st: rest.status,
    hl: rest.highlight,
    ls: rest.legalStatus,
    ps: rest.paymentSchedule,
    types: type // Keep types for classification
}));

export const BANK_RATES: Record<string, any> = {
  "Vietcombank": {
    "rate_fixed_5y": 8.5,
    "rate_floating": "6M VNIBOR + 2.5%",
    "max_ltv": 70,
    "max_term": 25,
    "early_payment_fee": "1% năm 1-3, 0% sau"
  },
  "Techcombank": {
    "rate_fixed_5y": 8.2,
    "rate_floating": "6M VNIBOR + 2.3%",
    "max_ltv": 70,
    "max_term": 35,
    "early_payment_fee": "0.5% năm 1-2, 0% sau"
  },
  "BIDV": {
    "rate_fixed_5y": 8.6,
    "rate_floating": "6M VNIBOR + 2.6%",
    "max_ltv": 75,
    "max_term": 20,
    "early_payment_fee": "1% năm 1-2, 0% sau"
  },
  "VietinBank": {
    "rate_fixed_5y": 8.7,
    "rate_floating": "12M VNIBOR + 3.0%",
    "max_ltv": 75,
    "max_term": 25,
    "early_payment_fee": "1.5% năm 1-3"
  },
  "VPBank": {
    "rate_fixed_5y": 8.3,
    "rate_floating": "Lãi suất cơ sở + 2.8%",
    "max_ltv": 80,
    "max_term": 25,
    "early_payment_fee": "Phạt 2% năm 1, Miễn phí sau năm 2"
  },
  "HDBank": {
    "rate_fixed_5y": 8.5,
    "rate_floating": "LSTK 13T + 3.5%",
    "max_ltv": 75,
    "max_term": 25,
    "early_payment_fee": "2% năm 1-3"
  },
  "Shinhan Bank": {
    "rate_fixed_5y": 6.5,
    "rate_floating": "Base Rate + 1.5%",
    "max_ltv": 70,
    "max_term": 30,
    "early_payment_fee": "2% năm 1-3, 0% sau"
  },
  "UOB": {
    "rate_fixed_5y": 6.4,
    "rate_floating": "Base Rate + 1.8%",
    "max_ltv": 75,
    "max_term": 25,
    "early_payment_fee": "1.5% năm 1-2"
  },
  "Standard Chartered": {
    "rate_fixed_5y": 6.2,
    "rate_floating": "12M TD + 3.5%",
    "max_ltv": 70,
    "max_term": 25,
    "early_payment_fee": "2% năm 1-2"
  },
  "HongLeong Bank": {
    "rate_fixed_5y": 7.0,
    "rate_floating": "Cost of Fund + 1.5%",
    "max_ltv": 80,
    "max_term": 25,
    "early_payment_fee": "1% năm 1-3"
  },
  "VIB": {
    "rate_fixed_5y": 9.0,
    "rate_floating": "Lãi suất cơ sở + 3.5%",
    "max_ltv": 80,
    "max_term": 30,
    "early_payment_fee": "2.5% năm 1-3"
  },
  "TPBank": {
    "rate_fixed_5y": 8.8,
    "rate_floating": "LSCS + 3.8%",
    "max_ltv": 75,
    "max_term": 25,
    "early_payment_fee": "2% năm 1-3"
  }
};

export const BANK_DATA = Object.entries(BANK_RATES).map(([name, data], index) => ({
  id: String(index),
  bankName: name,
  rateFirstYear: data.rate_fixed_5y,
  rateFloating: data.rate_floating,
  maxLoanRatio: data.max_ltv,
  term: data.max_term,
  earlyFee: data.early_payment_fee
}));

export const VALUATION_FACTORS = {
    location: {
        district_coefficient: {
            "q1": 450, // Million VND/m2 base
            "q3": 350,
            "thuduc": 100,
            "binhthanh": 150,
            "q7": 120,
            "q2": 180,
            "q4": 130
        },
        street_coefficient: {
            "mat_tien_lon": 1.5,
            "mat_tien_nho": 1.2,
            "hem_xe_hoi": 1.0,
            "hem_nho": 0.8
        },
        metro_proximity: 1.12, // +12%
    },
    property: {
        age_depreciation: 0.02, // -2% per year
        floor_premium: 0.005, // +0.5% per floor (5-20)
        view: {
            "river": 1.15,
            "city": 1.08,
            "park": 1.10,
            "internal": 1.0
        },
        direction: {
            "dong_nam": 1.05,
            "nam": 1.03,
            "khac": 1.0
        }
    },
    market: {
        "soi_dong": 1.10,
        "on_dinh": 1.0,
        "tram_lang": 0.95
    }
};

// --- UPDATED SYSTEM INSTRUCTION WITH MINIFIED DATA ---
export const SYSTEM_INSTRUCTION = `=== IDENTITY: BDS ADVISOR PRO (GRAND MASTER EDITION) ===
Bạn là Cố vấn BĐS Toàn năng, hội tụ tinh hoa của 8 chuyên gia hàng đầu. Bạn không chỉ bán nhà, bạn kiến tạo di sản và phong cách sống.

⚠️ QUY TẮC TỐI THƯỢNG: TUYỆT ĐỐI KHÔNG SỬ DỤNG EMOJI (Biểu tượng cảm xúc). Giữ phong thái chuyên nghiệp, cao cấp, nghiêm túc (Corporate Professional).

=== MODULE HUẤN LUYỆN CHUYÊN SÂU 1: CHUYÊN GIA BẤT ĐỘNG SẢN (STRATEGIST) ===
1. Tư duy cốt lõi: "Vị trí là hiện tại, Quy hoạch là tương lai".
   - Phân tích dựa trên 3 trụ cột: Lãi vốn (Capital Gain) - Dòng tiền (Cash Flow) - Thanh khoản (Liquidity).
   - Nhận diện "Vết dầu loang": Giá BĐS sẽ tăng theo hạ tầng (Cầu, Đường, Metro).

=== MODULE HUẤN LUYỆN CHUYÊN SÂU 2: KỸ SƯ XÂY DỰNG (CONSTRUCTION EXPERT) ===
2. Am hiểu kỹ thuật & Chất lượng công trình:
   - Kết cấu: Bê tông dự ứng lực (giúp trần cao, thoáng, ít cột), Móng cọc khoan nhồi (chống lún).
   - Vật liệu bàn giao: 
     + Kính Low-E (Cản nhiệt, ngăn UV, tiết kiệm điện).
     + Thiết bị vệ sinh (Duravit, Kohler, Grohe).
     + Hệ thống MEP (Cơ điện): Ống gen cách âm, Hệ thống lọc nước trung tâm.
   - Quy trình nghiệm thu: Kiểm tra độ phẳng tường, độ dốc sàn vệ sinh, test áp lực nước, kiểm tra chống thấm logia.

=== MODULE HUẤN LUYỆN CHUYÊN SÂU 3: KIẾN TRÚC SƯ & THIẾT KẾ (DESIGN EXPERT) ===
3. Tư duy Không gian & Thẩm mỹ:
   - Phong cách thiết kế: Indochine (Đông Dương), Modern Luxury (Sang trọng hiện đại), Neo Classic (Tân cổ điển), Minimalist (Tối giản).
   - Tối ưu Layout (Công năng): 
     + "Layout không góc chết": Tối ưu hóa diện tích sử dụng.
     + "Luồng giao thông": Bố trí cửa, hành lang hợp lý, không chồng chéo.
     + "Ánh sáng & Gió": Đối lưu không khí tự nhiên (Cross-ventilation).

=== CÁC CHUYÊN GIA HỖ TRỢ KHÁC ===
4. TÀI CHÍNH (CFO): Tính IRR, NPV. "Lợi nhuận = (Dòng tiền + Lãi vốn) / Vốn tự có".
5. LUẬT SƯ (LAWYER): Luật Đất Đai 2024, Luật KDBĐS 2023. Bảo vệ pháp lý tuyệt đối.
6. ĐẠI SƯ PHONG THUỶ (FENG SHUI): Vận 9 (2024-2043), Loan đầu, Dương trạch.
7. XỬ LÝ TỪ CHỐI (AIKIDO SALES): Đồng thuận -> Cô lập -> Đổi khung (Reframing).
8. QUẢN TRỊ KHỦNG HOẢNG (CRISIS MANAGER): Quy trình L.E.A.P (Listen - Empathize - Analyze - Propose).
9. KỸ NĂNG MỀM (EQ): Lắng nghe sâu, Khen ngợi tinh tế, Kể chuyện (Storytelling).

=== NHIỆM VỤ ===
- Phân tích đa chiều (Tài chính - Kỹ thuật - Thẩm mỹ - Luật).
- Tùy chỉnh cách nói chuyện dựa trên việc Đọc vị Khách hàng (DISC).
- Mục tiêu: Không chỉ chốt đơn, mà biến khách hàng thành Fan cuồng (Promoter).

=== DỮ LIỆU DỰ ÁN (ĐÃ TỐI ƯU HÓA TOKEN) ===
${JSON.stringify(MINIFIED_PROJECTS)}
`;